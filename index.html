<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overwatch Hero Pick Analyzer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="battle-board">
        <!-- 左カラム: 味方チーム -->
        <div class="team-column" id="ally-team-column">
            <div class="team-header">
                <h2>味方チーム</h2>
                <div class="team-role-icons"></div>
            </div>
            <div id="ally-team-slots" class="team-slots"></div>
            <div id="reset-controls" class="global-controls bottom-controls">
                <button id="reset-all-btn" class="control-btn">全リセット</button>
                <button id="reset-heroes-btn" class="control-btn">ヒーローリセット</button>
                <button id="reset-bans-btn" class="control-btn">BANリセット</button>
            </div>
        </div>

        <!-- 中央カラム: 操作パネル -->
        <div id="central-panel">
            <div id="tabs">
                <button class="tab-link active" data-tab="heroes">キャラ</button>
                <button class="tab-link" data-tab="bans">BAN</button>
                <button class="tab-link" data-tab="settings">設定</button>
            </div>
            <div id="tab-content">
                <div id="heroes-tab" class="tab-pane active"><div id="hero-palette"></div></div>
                <div id="bans-tab" class="tab-pane">
                    <div id="ban-palette"></div>
                    <div id="banned-heroes-display">
                        <h3>BAN指定中のヒーロー</h3>
                        <div id="banned-list"></div>
                    </div>
                </div>
                <div id="settings-tab" class="tab-pane">
                    <h3>パーソナライズ設定</h3>
                    <div class="setting-item">
                        <label for="suggestion-count">提案表示数 (各カテゴリ):</label>
                        <select id="suggestion-count"><option value="1">1</option><option value="2" selected>2</option><option value="3">3</option></select>
                    </div>
                    <div class="setting-item">
                        <label>ロール最大数設定 (チーム内):</label>
                        <div id="role-limit-settings"></div>
                        <small>※ 各ロールの最大数を5に設定すると、ロール制限のないオープンキューとして動作します。</small>
                    </div>
                    <div class="setting-item">
                        <label>ヒーロー選択ルール:</label>
                        <div id="hero-rule-settings">
                           <div class="hero-rule-item">
                               <input type="checkbox" id="allow-duplicates-checkbox">
                               <label for="allow-duplicates-checkbox">チーム内のヒーロー重複を許可する</label>
                           </div>
                        </div>
                         <small>※ オフの場合、各チーム内で同じヒーローは選択できません。</small>
                    </div>
                    <div class="setting-item">
                        <label>ヒーロープール (使用しないヒーロー):</label>
                        <div id="hero-pool-checklist"></div>
                    </div>
                    <div class="setting-item data-management">
                        <h4>データ管理</h4>
                        <button id="export-data-btn" class="control-btn">設定をエクスポート</button>
                        <label for="import-data-input" class="control-btn">設定をインポート</label>
                        <input type="file" id="import-data-input" accept=".json" style="display:none;">
                    </div>
                </div>
            </div>
        </div>

        <!-- 右カラム: 敵チーム -->
        <div class="team-column" id="enemy-team-column">
            <div class="team-header">
                <h2>敵チーム</h2>
                 <div id="map-selector-container" class="global-controls top-controls">
                    <label for="map-selector">マップ:</label>
                    <select id="map-selector"><option value="none">マップ未選択</option></select>
                </div>
            </div>
            <div id="enemy-team-slots" class="team-slots"></div>
            <!-- 【変更】全体分析エリアの構造変更 -->
            <div id="global-analysis-container" class="global-controls bottom-controls">
                <button id="global-analysis-btn" class="control-btn analysis-btn">全体</button>
                <div id="global-suggestion-area" class="suggestion-area">
                    <div class="suggestion high-risk"></div>
                    <div class="suggestion low-risk"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>